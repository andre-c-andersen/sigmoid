<div class="form-container">
  <form [formGroup]="form">
    <div class="form-section">
      <h3>Observed Data Points</h3>

      <div class="form-row">
        <div class="form-field">
          <label for="t0">t₀ (First time point)</label>
          <input type="number" id="t0" formControlName="t0" step="0.1">
        </div>

        <div class="form-field">
          <label for="Y0">Y(t₀) - Value at t₀</label>
          <input type="number" id="Y0" formControlName="Y0" step="0.01">
        </div>
      </div>

      <div class="form-row">
        <div class="form-field">
          <label for="t1">t₁ (Second time point)</label>
          <input type="number" id="t1" formControlName="t1" step="0.1">
        </div>

        <div class="form-field">
          <label for="Y1">Y(t₁) - Value at t₁</label>
          <input type="number" id="Y1" formControlName="Y1" step="0.01">
        </div>
      </div>
    </div>

    <div class="form-section">
      <h3>Sigmoid Bounds</h3>

      <div class="form-row">
        <div class="form-field">
          <label for="A">A (Lower asymptote)</label>
          <input type="number" id="A" formControlName="A" step="0.1">
        </div>

        <div class="form-field">
          <label for="K">K (Upper asymptote)</label>
          <input type="number" id="K" formControlName="K" step="0.1">
        </div>
      </div>
    </div>

    <div class="form-section">
      <h3>Shape Parameter</h3>

      <div class="form-field">
        <label for="nu">ν (Nu - asymmetry)</label>
        <input type="number" id="nu" formControlName="nu" step="0.1" min="0.01">
        <small>1 = symmetric, &lt;1 = front-loaded, &gt;1 = back-loaded</small>
      </div>
    </div>

    <div class="results-section">
      <h3>Calculated Parameters</h3>

      @if (error()) {
        <div class="error-message">{{ error() }}</div>
      } @else {
        <div class="result-row">
          <div class="result-item">
            <span class="result-label">B (Growth rate)</span>
            <span class="result-value">{{ calculatedB() !== null ? (calculatedB()! | number: '1.4-4') : '-' }}</span>
          </div>

          <div class="result-item">
            <span class="result-label">T (Inflection point)</span>
            <span class="result-value">{{ calculatedT() !== null ? (calculatedT()! | number: '1.4-4') : '-' }}</span>
          </div>
        </div>
      }
    </div>

    <button type="button" class="reset-button" (click)="resetForm()">
      Reset to Defaults
    </button>
  </form>
</div>
